
					<!--This code generated from staging Powered by Mahat, Source Machine : stg , Build Number : #2024-07-004 (Updated on 07/07/2024 22:07) on 06/12/2025 10:05:51 -->
					@using Microsoft.AspNetCore.Http
					@inject IHttpContextAccessor HttpContextAccessor
                    @using Admin;
					@model JmeterPublish.Models.usersModel
					@{
					ViewData["Title"] = "users";
					Layout = "~/Views/Shared/_Layout.cshtml";
					}

					<div class="">
					     
					<div class="">

					      <div id="cma_printableArea">
                           
                            
                            <div class="row printablerow"  style="padding:20px"> 
                              <div class="col-sm-12 col-xs-12 p-1 entityname_craftmyapp_viewcontainer show-on-pdf" style="display:none;text-align:left">
                            <h3>
                            <img src="~/images/logo.png" style="height:60px;width:60px;" alt="logo">
                            <b>users</b>
                            </h3>
				
                            <br />
                            </div>
                            <div class="col-sm-6 col-xs-12 p-2 firstname_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="firstname">@Resource.users_firstname</label><br>
										<span class="auto_cls_firstname"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 lastname_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="lastname">@Resource.users_lastname</label><br>
										<span class="auto_cls_lastname"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 profilepicture_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="profilepicture">@Resource.users_profilepicture</label><br>
										<span class="auto_cls_profilepicture"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 username_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="username">@Resource.users_username</label><br>
										<span class="auto_cls_username"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 emailid_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="emailid">@Resource.users_emailid</label><br>
										<span class="auto_cls_emailid"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 mobilenumber_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="mobilenumber">@Resource.users_mobilenumber</label><br>
										<span class="auto_cls_mobilenumber"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>
<div class="col-sm-6 col-xs-12 p-2 userrole_craftmyapp_viewcontainer">
								<div>
									<div class="form-group form-group--float-above my-3" > 
										<label for="userrole">@Resource.users_userrole</label><br>
										<span class="auto_cls_userrole"></span>
										<i class="form-group__bar" ></i>
									</div>
								</div>
							</div>

			 <div class="col-sm-12 col-xs-12 mt-3 dependentContainerBodyParent alloweddevicesContainerBodyParent hide"><!--Dependent Allowed Devices Containder Block-->
					<div class="card card card-blue cma_dependent_band">
					<div class="card-head">
                            <header>
                                 @Resource.alloweddevices
                            </header>
                             <header class="auditheader">
								<a href="#" style="margin: 20px !important;font-size: 22px;" class="alloweddevicesauditheaderlink"><i class="fa fa-history" aria-hidden="true"></i></a>
							</header>
                        </div>
                    <div class="card-body fluent-card-body commonContainer">
						 <div class="col-12">
							<div class="table-responsive-lg">
							<table id="alloweddevicesContainer" class="table table-bordered mb-0 alloweddevicesContainer">
							<thead id="alloweddevicesContainerHead">
								<th>Device Name</th>
<th>Device ID</th>
<th>Notification ID</th>


							</thead>
							
							<tbody id="alloweddevicesContainerBody"> 
							</tbody>
							
							</table>
							</div>
								</div>
						</div>
					  </div>
				  </div><!--Dependent Allowed Devices Containder Block-->
			 
            

											 
											 
                            </div>
                         </div>
						 <div class="row">
					            <div class="col-sm-12 col-xs-12">
					           
                                 <button type="button" onclick="window.history.back()" class="btn btn-secondary cma_cancel_button cma_back_button waves-effect">@Resource.back</button>            

					            </div>
					        </div>					
  
                    </div>
					
                    <link href="~/components/jquery-colorbox/colorbox.css" rel="stylesheet" />
                    <script src="~/components/jquery-colorbox/jquery.colorbox.js"></script>
                    <link href="~/css/GallaryContent/style.css" rel="stylesheet" />
                    <link href="~/components/starrr/starrr.css" rel="stylesheet" />
					 
					 <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
					<script type="text/javascript">
                     function download() {
                            const element = document.getElementById('cma_printableArea');

                            const elementsToHide = document.querySelectorAll('.show-on-pdf');

                            // Hide the elements
                            elementsToHide.forEach(function (el) {
                            el.style.display = '';
                            });

                            html2pdf()
                            .from(element)
                            .save('users.pdf')
                            .then(function () {
                            // Show the hidden elements after generating PDF
                            elementsToHide.forEach(function (el) {
                            el.style.display = 'none';
                            });
                            });
                    }
                    function fill_users_view_data(){

                       var  usersid = getUrlVars()["id"];
                                            $("#viewDetails_Auto").show()
											$(".auto_checker_action").hide()
                                                $.ajax({
												url: '@Url.Action("getById_allinfo_users")',
												dataType: 'json',
												data:{usersid: usersid },
												success: function(data) {

												var obj=eval(data[0]);
													for (var key in obj) {
													
                                                            
															$(".auto_cls_"+key).html(obj[key]|| '-');
														 	
															if(key=='profilepicture'){
																			$('.auto_cls_profilepicture').empty()
                                                                            if(obj[key] !=null)  {            
                                                                          
                                                                            var uploaded_profilepicture = obj[key].split('|');
                                                                            var iterate = 0;
                                                                            for (var i = 0; i < uploaded_profilepicture.length; i++) {


	                                                                            if (uploaded_profilepicture[i] != "") {
		                                                                            iterate = iterate + 1;
		                                                                            if (iterate == 1)
			                                                                            $('.auto_cls_profilepicture').append('<a href=' + uploaded_profilepicture[i] + ' class="imgprofilepicture auto_clr_profilepicture"><img  src=' + uploaded_profilepicture[i] + ' width="100px" alt="img"/></a>')
		                                                                            else

			                                                                            $('.auto_cls_profilepicture').append('<div style="display:none"> <a href=' + uploaded_profilepicture[i] + ' class="imgprofilepicture auto_clr_profilepicture"><img  src=' + uploaded_profilepicture[i] + ' width="100px" alt="img"/></a></div>')
		 
	                                                                            }


                                                                            }

                                                                            $('body').on('click', 'a.imgprofilepicture', function (e) {
                                                                            e.preventDefault();
                                                                            $('.imgprofilepicture').colorbox({ rel: '.imgprofilepicture', width: "90%", height: "80%" });
                                                                            $.colorbox({ open: true });
                                                                            });




                                                                                    }


																	}
if(key=='automaton_users_alloweddevices'){
																			$('#alloweddevicesContainerBody').empty()
                                                                            if(obj[key]!=null && obj[key] !=""){
                                                                                    var audit = '@Url.Action("audit")?id=' + usersid +'&section=automaton_users_alloweddevices_history'
		                                                                             $(".alloweddevicesauditheaderlink").attr('href',audit)
                                                                   
                                                                               $('.alloweddevicesContainerBodyParent').removeClass('hide')      
																			   $('#alloweddevicesContainerBody').append(get_dependent_table(obj[key]))
                                                                            }else{
                                                                               $('.alloweddevicesContainerBodyParent').addClass('hide')
                                                                            }
																	}


                                                            

													}

                                                    
												}

												})

                   }
                   

					$(document).ready(function () {


					fill_users_view_data()


					/*var Actions=getAutho("users","list")
					if(Actions == undefined){
					window.location = "@Url.Action("RoleAuthorizationFailed", "users")"
					}*/




					});
					 
					</script>
					 
                    
                    <script type="text/javascript">
                        
                        $(document).ready(function () {
                            
                        });
                    </script>
                    
                    
					
